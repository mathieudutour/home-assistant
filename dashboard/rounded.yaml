button_card_templates: !include_dir_merge_named ../button_card_templates

default_templates:
  sensor_line_graph_card_template: &sensor_line_graph_card_template
    type: "sensor"
    hours_to_show: 24
    detail: 1
    graph: "line"
    icon: "none"
    card_mod:
      class: "graph"
  sensor_swipe_card_template: &sensor_swipe_card_template
    type: "custom:swipe-card"
    card_width: "calc(100% - 48px)"
    start_card: 0
    reset_after: 15
    parameters:
      centeredSlides: true
      slidesPerView: "auto"
      spaceBetween: 16
      initialSlide: 0

title: "Los Palmos"
views:
  - icon: "mdi:home"
    path: "default_view"
    title: "HOME"
    type: "custom:grid-layout"
    badges: []
    layout:
      #default
      margin: 0
      grid-gap: 0
      card_margin: 0 3.3vw
      grid-template-columns: 0 1fr
      grid-template-rows: 1fr
      grid-template-areas: |
        "sidebar  home"
    cards:
      # extra_styles fix, do not remove
      # also warn if theme is not set

      - type: custom:button-card
        view_layout:
          grid-area: 1 / 2 / 2 / 5
        name: SET THEME TO "rounded" IN PROFILE
        tap_action:
          action: navigate
          navigation_path: /profile
        styles:
          card:
            - display: >
                [[[
                  return hass.themes.theme === 'Rounded'
                      ? 'none'
                      : 'initial';
                ]]]
          name:
            - z-index: 1
            - overflow: visible
            - color: red
            - font-weight: bolder
            - font-size: xxx-large
            - background: yellow

      #################################################
      #                                               #
      #                    SIDEBAR                    #
      #                                               #
      #################################################

      - type: custom:layout-card
        layout_type: custom:grid-layout
        view_layout:
          grid-area: sidebar
        layout:
          max_cols: 1
          width: 30px
          column_widths: 30px
          card_margin: 0
          margin: 0
        cards:
          - type: custom:button-card
            icon: "mdi:bed-king-outline"
            template: sidebar_icon_card
            variables:
              title: "Chambre R+1"

      #################################################
      #                                               #
      #                  HOME                         #
      #                                               #
      #################################################

      - type: vertical-stack
        view_layout:
          grid-area: home
        cards:
          - type: custom:button-card
            template: title_card
            name: "Los Palmos"
          - <<: *sensor_swipe_card_template
            cards:
              - name: "Température"
                entity: "sensor.ht_salon_temperature"
                <<: *sensor_line_graph_card_template
              - name: "Humidité"
                entity: "sensor.ht_salon_humidity"
                <<: *sensor_line_graph_card_template
          - columns: 4
            type: grid
            cards:
              - type: custom:button-card
                template: scene_card
                entity: "scene.reveil"
                variables:
                  color: "var(--green)"
              - type: custom:button-card
                template: scene_card
                entity: "scene.soiree"
                variables:
                  color: "var(--red)"
          - type: "grid"
            columns: 2
            square: false
            cards:
              - type: custom:button-card
                template: room_card
                name: "Chambre R+1"
                entity: "light.chambre_r_1_3"
                icon: "mdi:bed-king-outline"
                label: "[[[ return states['sensor.ht_salon_temperature'].state + ' °C' ]]]"
                tap_action:
                  action: "navigate"
                  navigation_path: "/lovelace-rounded/bedroom-up"
                  haptic: "medium"
              - type: custom:button-card
                template: room_card
                name: "Bibliothèque"
                entity: "light.bibliotheque"
                icon: "mdi:library-shelves"
                label: "[[[ return states['sensor.ht_salon_temperature'].state + ' °C' ]]]"
                tap_action:
                  action: "navigate"
                  navigation_path: "/lovelace-rounded/reading-room"
                  haptic: "medium"
              - type: custom:button-card
                template: room_card
                name: "Salon"
                entity: "light.salon"
                icon: "mdi:sofa"
                label: "[[[ return states['sensor.ht_salon_temperature'].state + ' °C' ]]]"
                tap_action:
                  action: "navigate"
                  navigation_path: "/lovelace-rounded/living_room"
                  haptic: "medium"
              - type: custom:button-card
                template: room_card
                name: "Cuisine"
                entity: "light.cuisine"
                icon: "mdi:silverware-fork-knife"
                label: "[[[ return states['sensor.ht_salon_temperature'].state + ' °C' ]]]"
                tap_action:
                  action: "navigate"
                  navigation_path: "/lovelace-rounded/kitchen"
                  haptic: "medium"
              - type: custom:button-card
                template: room_card
                name: "Couloir R-1"
                entity: "light.couloir_r_1"
                icon: "mdi:foot-print"
                label: "[[[ return states['sensor.ht_chambre_r_1_temperature'].state + ' °C' ]]]"
                tap_action:
                  action: "navigate"
                  navigation_path: "/lovelace-rounded/corridor"
                  haptic: "medium"
              - type: custom:button-card
                template: room_card
                name: "Chambre R-1"
                entity: "light.chambre_r_1_2"
                icon: "mdi:bed-single-outline"
                label: "[[[ return states['sensor.ht_chambre_r_1_temperature'].state + ' °C' ]]]"
                tap_action:
                  action: "navigate"
                  navigation_path: "/lovelace-rounded/bedroom-down"
                  haptic: "medium"
              - type: custom:button-card
                template: room_card
                name: "Cabinet"
                entity: "light.cabinet"
                icon: "mdi:account-heart"
                label: "[[[ return states['sensor.ht_cabinet_temperature'].state + ' °C' ]]]"
                tap_action:
                  action: "navigate"
                  navigation_path: "/lovelace-rounded/cabinet"
                  haptic: "medium"
              - type: custom:button-card
                template: room_card
                name: "Extérieur"
                entity: "light.exterieur"
                icon: "mdi:forest"
                label: "[[[ return states['weather.forecast_home'].attributes.temperature + ' °C' ]]]"
                tap_action:
                  action: "navigate"
                  navigation_path: "/lovelace-rounded/outdoor"
                  haptic: "medium"
  - icon: "mdi:bed-king-outline"
    path: "bedroom-up"
    title: "Chambre R+1"
    type: "masonry"
    badges: []
    cards:
      - type: custom:button-card
        template: title_card
        name: "Chambre R+1"
      - <<: *sensor_swipe_card_template
        cards:
          - name: "Température"
            entity: "sensor.ht_salon_temperature"
            <<: *sensor_line_graph_card_template
          - name: "Humidité"
            entity: "sensor.ht_salon_humidity"
            <<: *sensor_line_graph_card_template
      - type: "grid"
        columns: 2
        square: false
        cards:
          - type: custom:button-card
            template: light_card
            name: "Cathédrale"
            entity: "light.chambre_r_1"
  - icon: "mdi:library-shelves"
    path: "reading-room"
    title: "Bibliothèque"
    type: "masonry"
    badges: []
    cards:
      - type: custom:button-card
        template: title_card
        name: "Bibliothèque"
      - <<: *sensor_swipe_card_template
        cards:
          - name: "Température"
            entity: "sensor.ht_salon_temperature"
            <<: *sensor_line_graph_card_template
          - name: "Humidité"
            entity: "sensor.ht_salon_humidity"
            <<: *sensor_line_graph_card_template
      - type: "grid"
        columns: 2
        square: false
        cards:
          - type: custom:button-card
            template: light_card
            name: "Cathédrale"
            entity: "light.bibliotheque_cathedrale"
          - type: custom:button-card
            template: light_card
            name: "Spots"
            entity: "light.bibliotheque_spots"
          - type: custom:button-card
            template: light_card
            name: "Cabane"
            entity: "light.cabane_r_1_2"
  - icon: "mdi:sofa"
    path: "living_room"
    title: "Salon"
    type: "masonry"
    badges: []
    cards:
      - type: custom:button-card
        template: title_card
        name: "Salon"
      - <<: *sensor_swipe_card_template
        cards:
          - name: "Température"
            entity: "sensor.ht_salon_temperature"
            <<: *sensor_line_graph_card_template
          - name: "Humidité"
            entity: "sensor.ht_salon_humidity"
            <<: *sensor_line_graph_card_template
      - type: "grid"
        columns: 2
        square: false
        cards:
          - type: custom:button-card
            template: light_card
            name: "Spots"
            entity: "light.salon_spots"
          - type: custom:button-card
            template: light_card
            name: "Applique"
            entity: "light.salon_applique"
          - type: custom:button-card
            template: light_card
            name: "Entrée"
            entity: "light.entree"
      - type: "grid"
        columns: 2
        square: false
        cards:
          - type: custom:button-card
            template: cover_card
            name: "Translation Gauche"
            entity: "cover.translation_gauche"
  - icon: "mdi:silverware-fork-knife"
    path: "kitchen"
    title: "Cuisine"
    type: "masonry"
    badges: []
    cards:
      - type: custom:button-card
        template: title_card
        name: "Cuisine"
      - <<: *sensor_swipe_card_template
        cards:
          - name: "Température"
            entity: "sensor.ht_salon_temperature"
            <<: *sensor_line_graph_card_template
          - name: "Humidité"
            entity: "sensor.ht_salon_humidity"
            <<: *sensor_line_graph_card_template
      - type: "grid"
        columns: 2
        square: false
        cards:
          - type: custom:button-card
            template: light_card
            name: "Cuisine"
            entity: "light.cuisine_spots"
          - type: custom:button-card
            template: light_card
            name: "Table à manger"
            entity: "light.table_a_manger_spot"
          - type: custom:button-card
            template: light_card
            name: "Cellier"
            entity: "light.cellier_spot"
  - icon: "mdi:foot-print"
    path: "corridor"
    title: "Couloir R-1"
    type: "masonry"
    badges: []
    cards:
      - type: custom:button-card
        template: title_card
        name: "Couloir R-1"
      - <<: *sensor_swipe_card_template
        cards:
          - name: "Température"
            entity: "sensor.ht_chambre_r_1_temperature"
            <<: *sensor_line_graph_card_template
          - name: "Humidité"
            entity: "sensor.ht_chambre_r_1_humidity"
            <<: *sensor_line_graph_card_template
      - type: "grid"
        columns: 2
        square: false
        cards:
          - type: custom:button-card
            template: light_card
            name: "Spots"
            entity: "light.couloir_r_1_spots"
  - icon: "mdi:bed-single-outline"
    path: "bedroom-down"
    title: "Chambre R-1"
    type: "masonry"
    badges: []
    cards:
      - type: custom:button-card
        template: title_card
        name: "Chambre R-1"
      - <<: *sensor_swipe_card_template
        cards:
          - name: "Température"
            entity: "sensor.ht_chambre_r_1_temperature"
            <<: *sensor_line_graph_card_template
          - name: "Humidité"
            entity: "sensor.ht_chambre_r_1_humidity"
            <<: *sensor_line_graph_card_template
      - type: "grid"
        columns: 2
        square: false
        cards:
          - type: custom:button-card
            template: light_card
            name: "Spots"
            entity: "light.chambre_r_1_spots_ouest"
          - type: custom:button-card
            template: light_card
            name: "Cabane"
            entity: "light.cabane_r_1_spot"
  - icon: "mdi:account-heart"
    path: "cabinet"
    title: "Cabinet"
    type: "masonry"
    badges: []
    cards:
      - type: custom:button-card
        template: title_card
        name: "Cabinet"
      - <<: *sensor_swipe_card_template
        cards:
          - name: "Température"
            entity: "sensor.ht_cabinet_temperature"
            <<: *sensor_line_graph_card_template
          - name: "Humidité"
            entity: "sensor.ht_cabinet_humidity"
            <<: *sensor_line_graph_card_template
      - type: "grid"
        columns: 2
        square: false
        cards:
          - type: custom:button-card
            template: light_card
            name: "Spots"
            entity: "light.cabinet_emilie_spots"
  - icon: "mdi:forest"
    path: "outdoor"
    title: "Extérieur"
    type: "masonry"
    badges: []
    cards:
      - type: custom:button-card
        template: title_card
        name: "Extérieur"
      - type: "weather-forecast"
        entity: "weather.forecast_home"
      - type: "grid"
        columns: 2
        square: false
        cards:
          - type: custom:button-card
            template: light_card
            name: "Appentis"
            entity: "light.appentis"
          - type: custom:button-card
            template: light_card
            name: "Spots Sud Est"
            entity: "light.exterieur_se"
          - type: custom:button-card
            template: light_card
            name: "Terrasse"
            entity: "light.terrasse_spots"
